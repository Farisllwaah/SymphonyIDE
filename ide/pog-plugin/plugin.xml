<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="4.2"?>

<plugin>


 <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="eu.compassresearch.ide.cml.pogplugin.PerspectiveFactory"
            icon="icons/cview16/pog_gen.png"
            id="eu.compassresearch.ide.pogplugin.pog-perspective"
            name="POG">
      </perspective>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="eu.compassresearch.ide.pogplugin.pog-perspective">
         <view
               id="eu.compassresearch.ide.ui.CmlNavigator"
               minimized="false"
               ratio="0.25"
               relationship="left"
               relative="org.eclipse.ui.editorss"
               visible="true">
         </view>
         <view
               id="eu.compassresearch.ide.pogplugin.POsTable"
               minimized="false"
               ratio="0.60"
               relationship="right"
               relative="org.eclipse.ui.editorss"
               visible="true">
         </view>
         <view
               id="eu.compassresearch.ide.pogplugin.PoDetail"
               minimized="false"
               ratio="0.50"
               relationship="bottom"
               relative="eu.compassresearch.ide.pogplugin.POsTable"
               visible="true">
         </view>
      </perspectiveExtension>
   </extension>




<extension
         point="org.eclipse.ui.views">
     		<category
			id="eu.compassresearch.ide.ui.category"
			name="COMPASS"/>
      <view
            category="eu.compassresearch.ide.ui.category"
            class="eu.compassresearch.ide.cml.pogplugin.view.PoView"
            icon="icons/cview16/po_tsk.png"
            id="eu.compassresearch.ide.pogplugin.PoDetail"
            name="CML PO Details">
      </view>
      <view
            category="eu.compassresearch.ide.ui.category"
            class="eu.compassresearch.ide.cml.pogplugin.view.PoListView"
            icon="icons/cview16/po_tsk.png"
            id="eu.compassresearch.ide.pogplugin.POsTable"
            name="CML PO List">
      </view>
   
     
   </extension>
<extension
      point="org.eclipse.ui.perspectives">
   <perspective
         class="org.overture.ide.plugins.poviewer.ProofObligationPerspectiveFactory"
         icon="icons/cview16/po_tsk.png"
         id="org.overture.ide.plugins.poviewer.perspective"
         name="Proof Obligation">
   </perspective>
</extension>




<extension
      point="org.eclipse.ui.commands">
   <command
         id="eu.compassresearch.ide.pog-plugin.generatepos"
         name="GeneratePOs">
   </command>
</extension>



<extension
      point="org.eclipse.ui.menus">
   <menuContribution
         allPopups="false"
         locationURI="popup:eu.compassresearch.ide.ui.CmlNavigator">
              <menu
              id="eu.compassresearch.ide.pogplugin"
              icon="icons/cview16/pog_gen.png"
              label="CML-POG">
      <command
            commandId="eu.compassresearch.ide.pog-plugin.generatepos"
            label="Generate Proof Obligations"
            style="push"
            tooltip="Generate Proof Obligations for selected Project">
      </command>
      </menu>
   </menuContribution>
  </extension>





<extension
      point="org.eclipse.ui.handlers">
   <handler
   class ="eu.compassresearch.ide.cml.pogplugin.commands.GeneratePosHandler"
         commandId="eu.compassresearch.ide.pog-plugin.generatepos">
            <!--activeWhen> 
            Implement command state logic based on selection
      < with 
      	variable="eu.compassresearch.ide.pogplugin.active"> 
        	<equals
         		value="ENABLED">
         	</equals>  
      </with> 
   </activeWhen --> 
   </handler>
</extension>
<extension
      point="org.eclipse.ui.services">
   <sourceProvider
         provider="eu.compassresearch.ide.cml.pogplugin.commands.CommandState">
      <variable
            name="eu.compassresearch.ide.pogplugin.active"
            priorityLevel="workbench">
      </variable>
   </sourceProvider>
</extension>




</plugin>
